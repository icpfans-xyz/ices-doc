---
sidebar_position: 2
---

# Rust Tutorial
------
ICES's Mainnet canister: * **ark2z-fiaaa-aaaah-aa4ta-cai** *  
In your **Rust** conract code, follow the steps below.

## 1. Add dependency in toml configuration file

```
ic-cdk = "0.3.3"
ic-cdk-macros = "0.3.3"
```

## 2. Use ic_cdk to call  the ICES Canister emit method to send log data.
The **emit** function has two parameters, **eventKey: String, eventValue: []** where eventValue is an array that can receive multiple values

* Send the specified view of login user data related, specify eventKey = "ICES_USER"

```
let event_key = String::from("CES_USER");
let event_value = ["value1", "value2"];
let canister_id: Principal =
    Principal::from_text(CESCANISTER).unwrap();
    let _call_result: Result<(), _> =
    ic_cdk::api::call::call(canister_id, "emit", (event_key, event_value)).await;
match _call_result {
    Ok(_) => Ok(()),
    Err((code, msg)) => Err(ic_cdk::println!(
        "An error happened during the call: {}: {}",
        code as u8,
        msg
    )),
};

```

* Send general custom data, and then you can query related data and charts through the services provided by ICES

```
let event_key = String::from("your key");
let event_value = ["value1", "value2"];
let canister_id: Principal =
    Principal::from_text("ark2z-fiaaa-aaaah-aa4ta-cai").unwrap();
    let _call_result: Result<(), _> =
    ic_cdk::api::call::call(canister_id, "emit", (event_key, event_value)).await;
match _call_result {
    Ok(_) => Ok(()),
    Err((code, msg)) => Err(ic_cdk::println!(
        "An error happened during the call: {}: {}",
        code as u8,
        msg
    )),
};

```
